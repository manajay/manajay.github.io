---
layout: post
title:  redisç³»åˆ— 01 - redisä¸ç›¸å…³æŠ€æœ¯
tag: redis
date: 2018-01-10 13:22:50 +09:00
---


### redis ç®€ä»‹

Redisæ˜¯ä¸€ä¸ªä½¿ç”¨ANSI Cç¼–å†™çš„å¼€æºã€æ”¯æŒç½‘ç»œã€åŸºäºå†…å­˜ã€å¯é€‰æŒä¹…æ€§çš„æ—¥å¿—å‹,é”®å€¼å¯¹å­˜å‚¨æ•°æ®åº“ [å‚è€ƒç»´åŸºç™¾ç§‘Rediså®šä¹‰](https://zh.wikipedia.org/wiki/Redis)

* æ”¯æŒå¤šè¯­è¨€
* é”®å€¼å­˜å‚¨, éå…³ç³»å‹æ•°æ®åº“
* æŒä¹…åŒ–, ä¸»è¦å­˜å‚¨åœ¨å†…å­˜ä¸­, ä½¿ç”¨ç¡¬ç›˜å¿«ç…§ä¸æ—¥å¿—çš„å½¢å¼æŒä¹…åŒ–
* ç½‘ç»œåŒæ­¥, æ”¯æŒä¸»ä»åŒæ­¥, æ¶ˆæ¯çš„å‘å¸ƒ/è®¢é˜…
* æ€§èƒ½éå¸¸é«˜, åŸºäºå†…å­˜çš„è¯»å†™. `è¯»çš„é€Ÿåº¦æ˜¯110000æ¬¡/s,å†™çš„é€Ÿåº¦æ˜¯81000æ¬¡/s`

## redis ç›¸å…³æŠ€æœ¯çš„æ¯”è¾ƒ

* æ•°æ®ç±»å‹æ›´ä¸°å¯Œ: `Redis`çš„å€¼,ä¸ä»…é™äºå­—ç¬¦ä¸², è¿˜å¯ä»¥åŒ…å«æ›´å¤æ‚çš„ **æŠ½è±¡æ•°æ®ç±»å‹**ï¼Œ
`å­—ç¬¦ä¸²åˆ—è¡¨`
`æ— åºä¸é‡å¤çš„å­—ç¬¦ä¸²é›†åˆ`
`æœ‰åºä¸é‡å¤çš„å­—ç¬¦ä¸²é›†åˆ`
`é”®ã€å€¼éƒ½ä¸ºå­—ç¬¦ä¸²çš„å“ˆå¸Œè¡¨`,
å¹¶ä¸”`Redis`æ”¯æŒä¸åŒæ— åºã€æœ‰åºçš„åˆ—è¡¨ï¼Œæ— åºã€æœ‰åºçš„é›†åˆé—´çš„äº¤é›†ã€å¹¶é›†ç­‰é«˜çº§æœåŠ¡å™¨ç«¯ **åŸå­æ“ä½œ**.

* æŒä¹…æ€§å·®å¼‚: `Redis`æ˜¯ä¸€ä¸ªå†…å­˜æ•°æ®åº“ï¼Œä½†åœ¨ç£ç›˜æ•°æ®åº“ä¸Šæ˜¯æŒä¹…çš„ï¼Œé‡å¯åå¯ä»¥å†æ¬¡åŠ è½½, å› æ­¤å®ƒä»£è¡¨äº†ä¸€ä¸ªä¸åŒçš„æƒè¡¡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨ä¸èƒ½å¤§äºå­˜å‚¨å™¨(å†…å­˜)çš„æ•°æ®é›†çš„é™åˆ¶ä¸‹å®ç° **éå¸¸é«˜çš„å†™å’Œè¯»é€Ÿåº¦**ã€‚
å†…å­˜æ•°æ®åº“çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œå®ƒä¸ç£ç›˜ä¸Šçš„ç›¸åŒæ•°æ®ç»“æ„ç›¸æ¯”ï¼Œå¤æ‚æ•°æ®ç»“æ„åœ¨å†…å­˜ä¸­å­˜å‚¨è¡¨ç¤ºæ›´å®¹æ˜“æ“ä½œã€‚ å› æ­¤ï¼Œ`Redis`å¯ä»¥åš*å¾ˆå°‘çš„å†…éƒ¨å¤æ‚æ€§*ã€‚

* æ•°æ®å¤‡ä»½: æ”¯æŒ`master-slave`æ¨¡å¼çš„æ•°æ®å¤‡ä»½ã€‚
* ä¸°å¯Œçš„åŠŸèƒ½:  æ¶ˆæ¯é˜Ÿåˆ—`publish/subscribe`, é€šçŸ¥, `key`è¿‡æœŸç­‰ç­‰ç‰¹æ€§

## redisçš„å®‰è£…

### 1. Ubuntu ç³»ç»Ÿ
 
* `Ubuntu`ä½¿ç”¨`apt-get`å®‰è£… `redis`

```shell
sudo apt-get update 
sudo apt-get install redis-server
```

* å¯åŠ¨å‘½ä»¤

```
redis-server
```

* æ£€æŸ¥æ˜¯å¦å¯åŠ¨

```
redis-cli
``` 

* `redis.conf` é…ç½®æ–‡ä»¶

### 2. Linux ç³»ç»Ÿ

* æ¯”å¦‚ `CentOS` ä½¿ç”¨ `wget` å®‰è£…

```
wget http://download.redis.io/releases/redis-2.8.17.tar.gz
tar xzf redis-2.8.17.tar.gz
cd redis-2.8.17
make
```
ç¼–è¯‘åçš„`redis`æœåŠ¡ç¨‹åº`redis-server`,è¿˜æœ‰ç”¨äºæµ‹è¯•çš„å®¢æˆ·ç«¯ç¨‹åº`redis-cli`

* å¯åŠ¨`src`ç›®å½•ä¸‹æœåŠ¡å™¨

```
cd src
./redis-server
```

* `redis.conf` é»˜è®¤é…ç½®æ–‡ä»¶ , å¯åŠ¨å‘½ä»¤åé¢è·Ÿä¸Šé…ç½®æ–‡ä»¶, å¯ä»¥æ”¹å˜é»˜è®¤é…ç½®

* å®¢æˆ·ç«¯ç¨‹åº`redis-cli`, å¯ä»¥è¿›è¡Œæµ‹è¯•

### 3. Mac OS ç³»ç»Ÿ
* `Mac` ä½¿ç”¨ `homebrew` å®‰è£… `redis`

```
brew install redis
```

* æˆåŠŸæ ‡å¿—

```
To have launchd start redis now and restart at login:
  brew services start redis
Or, if you don't want/need a background service you can just run:
  redis-server /usr/local/etc/redis.conf
==> Summary
ğŸº  /usr/local/Cellar/redis/4.0.6: 13 files, 2.8MB
```

* å¯åŠ¨

```
redis-server /usr/local/etc/redis.conf
```

* `redis.conf` é…ç½®æ–‡ä»¶

## åº”ç”¨åœºæ™¯

* é«˜é€Ÿç¼“å­˜
* æ¶ˆæ¯é˜Ÿåˆ— , åŠŸèƒ½ç®€å•


### ç›¸å…³é“¾æ¥

* [redis å®˜ç½‘](http://www.redis.io/)
* [ç»´åŸºç™¾ç§‘ Redis å®šä¹‰](https://zh.wikipedia.org/wiki/Redis)
* [æ˜“ç™¾æ•™ç¨‹ Redis](http://www.yiibai.com/redis/redis_quick_guide.html)
* [RUNOOB.COM Redis](http://www.runoob.com/redis/redis-intro.html)

